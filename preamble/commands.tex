% # General LaTeX shortcuts
\renewcommand{\u}[1]{\underline{#1}}


% # References
\newcommand{\refch}[1]{Chapter~\ref{ch:#1}}
\newcommand{\refsec}[1]{Section~\ref{sec:#1}}
\newcommand{\refsubsec}[1]{Section~\ref{subsec:#1}}
\newcommand{\reffig}[1]{Figure~\ref{fig:#1}}
\newcommand{\reftab}[1]{Table~\ref{tab:#1}}
\renewcommand{\refeq}[1]{\eqref{tab:#1}}
\newcommand{\reflst}[1]{Listing~\ref{lst:#1}}
\newcommand{\refitm}[1]{\ref{itm:#1}}  %e numerated list item
\newcommand{\refalg}[1]{Algorithm~\ref{alg:#1}}
\newcommand{\refapp}[1]{Appendix~\ref{app:#1}}


% # Custom symbols
\newcommand{\gooditem}{\item[\checkmark]}
\newcommand{\baditem}{\item[\ding{53}]}
\newcommand{\good}{\textbf{\color{green}[\checkmark]}}
\newcommand{\bad}{\textbf{\color{red}[\ding{53}]}}


% # Document formatting
% ## page clearing
\newcommand{\clearemptydoublepage}{%
  \ifthenelse{\boolean{@twoside}}{\newpage{\pagestyle{empty}\cleardoublepage}}%
  {\clearpage}}

% ## comment that appears on the border
\newcommand{\mcomment}[1]{\marginpar{\raggedright \noindent {\textsl{#1}}}}


% # Graphics
% ## insert figure (fname, caption for ToC, caption, label, width as fraction of \textwidth)
\newcommand{\insertfig}[5]{
	\begin{figure}[htbp]
		\begin{center}
			\includegraphics[width=#5\textwidth]{#1}  % width, height, scale, angle ...
		\end{center}
		\vspace{-0.4cm}
		\caption[#2]{#3}
		\label{fig:#4}
	\end{figure}
}

% ## color box
\newlength\mytemplen
\newsavebox\mytempbox

\makeatletter

\newcommand\mybox{%
    \@ifnextchar[%]
       {\@mybox}%
       {\@mybox[0pt]}}

\def\@mybox[#1]{%
    \@ifnextchar[%]
       {\@@mybox[#1]}%
       {\@@mybox[#1][0pt]}}

\def\@@mybox[#1][#2]#3{
    \sbox\mytempbox{#3}%
    \mytemplen\ht\mytempbox
    \advance\mytemplen #1\relax
    \ht\mytempbox\mytemplen
    \mytemplen\dp\mytempbox
    \advance\mytemplen #2\relax
    \dp\mytempbox\mytemplen
    \colorbox{boxc}{\hspace{0em}\usebox{\mytempbox}\hspace{0em}}}

\makeatother
