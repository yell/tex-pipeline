% # Semantic font styles for math quantities
% TODO: scalar, vector, matrix, tensor, dist


% # LaTeX shortcuts
\renewcommand{\l}{\left}
\renewcommand{\r}{\right}
\renewcommand{\o}[1]{\overline{#1}}
\newcommand{\ub}[2]{\underbrace{#1}_{#2}}
\newcommand{\ob}[2]{\overbrace{#1}_{#2}}
\newcommand{\half}{\frac{1}{2}}


% # Better LaTeX defaults
\renewcommand{\epsilon}{\varepsilon}
\newcommand{\eps}{\epsilon}
\renewcommand{\kappa}{\varkappa}
\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}


% # Math delimiters with correct auto-size
% * names are consistent with `matrix` environment prefixes
\newcommand{\p}[1]{ \left( #1 \right) }
\renewcommand{\b}[1]{ \left[ #1 \right] }
\newcommand{\B}[1]{ \left\{ #1 \right\} }
\renewcommand{\v}[1]{ \left| #1 \right| }
\newcommand{\V}[1]{ \left\| #1 \right\| }


% # Comments within math derivations
\newcommand{\commentinline}[1]{\color{darkgray}\left[\text{#1}\right]\color{black}}
\newcommand{\commentii}[2]{\color{darkgray}\left[\begin{array}{c}\text{#1}\\\text{#2}\end{array}\right]\color{black}}


% # Elementary math
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\const}{const}
\DeclareMathOperator{\e}{e}  % exp
\newcommand{\ind}[1]{\mathbbm{1}_{\left\lbrace #1 \right\rbrace}}

% \DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\let\abs\relax\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}


% # Linear algebra
\let\tr\relax\DeclareMathOperator{\tr}{tr}
\let\Tr\relax\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\diag}{diag}

\let\norm\relax\newcommand{\norm}[1]{\left\lVert #1 \right\rVert}
\newcommand{\vecii}[2]{\begin{array}[h]{c} #1 \\ #2	\end{array}}
\newcommand{\veciii}[3]{\begin{array}[h]{c} #1 \\ #2 \\ #3	\end{array}}
\newcommand{\veciv}[4]{\begin{array}[h]{c} #1 \\ #2 \\ #3 \\ #4	\end{array}}

\newcommand{\matii}[4]{\begin{array}[h]{ccc} #1 & #2 \\ #3 & #4 \end{array}}
\newcommand{\matiii}[9]{\begin{array}[h]{ccc} #1 & #2 & #3 \\ #4 & #5 & #6 \\ #7 & #8 & #9	\end{array}}


% # Calculus
\newcommand{\evalat}[1]{\biggr\rvert _{#1}}
% \newcommand{\pd}[2]{ \frac{\partial #1}{\partial #2} }  % partial derivative
\DeclareDocumentCommand{\pd}{ O{} O{} m }{\frac{\partial^{#2}#1}{\partial#3^{#2}}}  % partial derivative

\renewcommand{\d}{\mathrm{d}}  % upright "d" for differential
\newcommand{\ud}{\,\mathrm{d}}  % correct spacing for differential in integral


% # Probability theory
\let\var\relax\DeclareMathOperator{\var}{var}
\DeclareMathOperator{\med}{med}

\newcommand{\E}{\mathbb{E}}
\renewcommand{\P}[1]{\mathbb{P}\left\lbrace #1 \right\rbrace}
\renewcommand{\Pr}[1]{\operatorname{Pr}\left\lbrace #1 \right\rbrace}
\newcommand{\pr}[1]{p\left( #1 \right)}


% # Information theory
\newcommand{\KL}[2]{\operatorname{KL}(#1 \parallel #2)}
\newcommand{\DKL}[2]{D_{\operatorname{KL}}(#1 \parallel #2)}
